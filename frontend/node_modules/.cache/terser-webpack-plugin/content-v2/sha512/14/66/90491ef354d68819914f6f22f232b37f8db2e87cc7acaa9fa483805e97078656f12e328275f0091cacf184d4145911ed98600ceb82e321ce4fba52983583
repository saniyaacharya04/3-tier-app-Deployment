{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,a){},44:function(e,t,a){\"use strict\";a.r(t);var r=a(0),n=a.n(r),c=a(6),s=a.n(c),o=(a(23),a(5)),l=a(2),i=a(18),d=a(7),j=a.n(d);const u=\"http://52.91.149.139:8080/api\",b=j.a.create({baseURL:u});j.a.create({baseURL:\"\".concat(u,\"/users\")}),j.a.create({baseURL:\"\".concat(u,\"/tasks\")});var h=b;var g=a(3);function p(e){let{onLogin:t}=e;const[a,n]=Object(r.useState)(\"\"),[c,s]=Object(r.useState)(\"\"),[o,i]=Object(r.useState)(\"\"),d=Object(l.q)();return Object(g.jsxs)(\"div\",{children:[Object(g.jsx)(\"h2\",{children:\"Login\"}),Object(g.jsxs)(\"form\",{onSubmit:async e=>{e.preventDefault();try{var r,n;const e=await(l={email:a,password:c},h.post(\"/users/login\",l));null!==(r=e.data)&&void 0!==r&&r.user&&null!==(n=e.data)&&void 0!==n&&n.token?(localStorage.setItem(\"token\",e.data.token),localStorage.setItem(\"user\",JSON.stringify(e.data.user)),t(e.data.user),d(\"/tasks\")):i(\"Invalid response from server\")}catch(j){var s,o;i((null===(s=j.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.error)||\"Server error, please try again later.\")}var l},children:[Object(g.jsx)(\"input\",{type:\"email\",placeholder:\"Email\",value:a,onChange:e=>n(e.target.value),required:!0}),Object(g.jsx)(\"input\",{type:\"password\",placeholder:\"Password\",value:c,onChange:e=>s(e.target.value),required:!0}),Object(g.jsx)(\"button\",{type:\"submit\",children:\"Login\"})]}),o&&Object(g.jsx)(\"p\",{style:{color:\"red\"},children:o})]})}var O=function(){const[e,t]=Object(r.useState)(\"\"),[a,n]=Object(r.useState)(\"\"),[c,s]=Object(r.useState)(\"\"),[o,i]=Object(r.useState)(\"\"),d=Object(l.q)();return Object(g.jsxs)(\"div\",{className:\"auth-container\",children:[Object(g.jsx)(\"h2\",{children:\"Register\"}),Object(g.jsxs)(\"form\",{onSubmit:async t=>{t.preventDefault();try{await(s={name:e,email:a,password:c},h.post(\"/users/register\",s)),alert(\"\\u2705 Registration successful! Please login.\"),d(\"/login\")}catch(o){var r,n;i((null===(r=o.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||\"Registration failed.\"),console.error(\"Register error:\",o)}var s},children:[Object(g.jsx)(\"input\",{type:\"text\",placeholder:\"Name\",value:e,onChange:e=>t(e.target.value),required:!0}),Object(g.jsx)(\"input\",{type:\"email\",placeholder:\"Email\",value:a,onChange:e=>n(e.target.value),required:!0}),Object(g.jsx)(\"input\",{type:\"password\",placeholder:\"Password\",value:c,onChange:e=>s(e.target.value),required:!0}),Object(g.jsx)(\"button\",{type:\"submit\",children:\"Register\"})]}),o&&Object(g.jsx)(\"p\",{style:{color:\"red\"},children:o}),Object(g.jsx)(\"p\",{onClick:()=>d(\"/login\"),style:{cursor:\"pointer\"},children:\"Already have an account? Login\"})]})};function m(e){let{user:t,onLogout:a}=e;const[n,c]=Object(r.useState)(\"\"),[s,o]=Object(r.useState)([]),[l,i]=Object(r.useState)(null),[d,j]=Object(r.useState)(\"\"),u=localStorage.getItem(\"token\"),b=()=>{i(null),j(\"\")},p=async()=>{try{const e=await h.put(\"/tasks/\".concat(l),{title:d},{headers:{Authorization:\"Bearer \".concat(u)}});o(s.map(t=>t.id===l?e.data:t)),b()}catch(e){console.error(\"Failed to update task:\",e)}};return Object(r.useEffect)(()=>{(async()=>{try{const e=await h.get(\"/tasks\",{headers:{Authorization:\"Bearer \".concat(u)}});o(e.data)}catch(e){console.error(\"Failed to fetch tasks:\",e)}})()},[]),Object(g.jsxs)(\"div\",{style:{padding:\"2rem\"},children:[Object(g.jsxs)(\"h2\",{children:[\"Welcome, \",t.name]}),Object(g.jsxs)(\"div\",{style:{marginBottom:\"1rem\"},children:[Object(g.jsx)(\"input\",{value:n,onChange:e=>c(e.target.value),placeholder:\"New task\",style:{padding:\"0.5rem\",width:\"300px\"}}),Object(g.jsx)(\"button\",{onClick:async()=>{try{const e=await h.post(\"/tasks\",{title:n},{headers:{Authorization:\"Bearer \".concat(u)}});o([...s,e.data]),c(\"\")}catch(e){console.error(\"Failed to create task:\",e)}},style:{marginLeft:\"1rem\"},children:\"Add Task\"})]}),Object(g.jsx)(\"ul\",{children:s.map(e=>Object(g.jsx)(\"li\",{style:{marginBottom:\"0.5rem\"},children:l===e.id?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(\"input\",{value:d,onChange:e=>j(e.target.value),style:{padding:\"0.3rem\",width:\"250px\"}}),Object(g.jsx)(\"button\",{onClick:p,style:{marginLeft:\"0.5rem\"},children:\"Save\"}),Object(g.jsx)(\"button\",{onClick:b,style:{marginLeft:\"0.5rem\"},children:\"Cancel\"})]}):Object(g.jsxs)(g.Fragment,{children:[e.title,Object(g.jsx)(\"button\",{onClick:()=>(e=>{i(e.id),j(e.title)})(e),style:{marginLeft:\"1rem\"},children:\"Edit\"}),Object(g.jsx)(\"button\",{onClick:()=>(async e=>{try{await h.delete(\"/tasks/\".concat(e),{headers:{Authorization:\"Bearer \".concat(u)}}),o(s.filter(t=>t.id!==e))}catch(t){console.error(\"Failed to delete task:\",t)}})(e.id),style:{marginLeft:\"0.5rem\"},children:\"Delete\"})]})},e.id))}),Object(g.jsx)(\"button\",{onClick:a,style:{marginTop:\"2rem\"},children:\"Logout\"})]})}var x=function(){const[e,t]=Object(r.useState)(null);Object(r.useEffect)(()=>{const e=localStorage.getItem(\"token\"),a=localStorage.getItem(\"user\");if(e)try{const{exp:r}=Object(i.a)(e);Date.now()>=1e3*r?(localStorage.clear(),t(null),window.location.href=\"/login\"):a&&t(JSON.parse(a))}catch(r){console.error(\"Invalid token:\",r),localStorage.clear(),t(null),window.location.href=\"/login\"}},[]),Object(r.useEffect)(()=>{e?localStorage.setItem(\"user\",JSON.stringify(e)):localStorage.removeItem(\"user\")},[e]);const a=!!localStorage.getItem(\"token\");return Object(g.jsx)(o.a,{children:Object(g.jsxs)(l.d,{children:[Object(g.jsx)(l.b,{path:\"/login\",element:Object(g.jsx)(p,{onLogin:t})}),Object(g.jsx)(l.b,{path:\"/register\",element:Object(g.jsx)(O,{})}),Object(g.jsx)(l.b,{path:\"/tasks\",element:a?Object(g.jsx)(m,{user:e||{id:null,name:\"\",email:\"\"},onLogout:()=>{localStorage.removeItem(\"token\"),localStorage.removeItem(\"user\"),t(null),window.location.href=\"/login\"}}):Object(g.jsx)(l.a,{to:\"/login\",replace:!0})}),Object(g.jsx)(l.b,{path:\"*\",element:a?Object(g.jsx)(l.a,{to:\"/tasks\",replace:!0}):Object(g.jsx)(l.a,{to:\"/login\",replace:!0})})]})})};s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(\"div\",{className:\"app-wrapper\",children:Object(g.jsx)(x,{})})}),document.getElementById(\"root\"))}},[[44,1,2]]]);","name":"static/js/main.fa7d72d7.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","dist","react_router_dist","esm","axios","axios_default","BASE_URL","api","a","create","baseURL","concat","services_api","jsx_runtime","Login","_ref","onLogin","email","setEmail","Object","password","setPassword","error","setError","navigate","children","onSubmit","async","e","preventDefault","_res$data","_res$data2","res","credentials","post","data","user","token","localStorage","setItem","JSON","stringify","err","_err$response","_err$response$data","response","type","placeholder","value","onChange","target","required","style","color","register","name","setName","className","userData","alert","console","onClick","cursor","Tasks","onLogout","task","setTask","tasks","setTasks","editingId","setEditingId","editText","setEditText","getItem","cancelEditing","updateTask","put","title","headers","Authorization","map","t","id","get","fetchTasks","padding","marginBottom","width","marginLeft","startEditing","delete","filter","deleteTask","marginTop","src_App","setUser","storedUser","exp","Date","now","clear","window","location","href","parse","removeItem","isAuthenticated","path","element","to","replace","render","StrictMode","document","getElementById"],"sources":["static/js/main.fa7d72d7.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(6);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/build/esm/index.js\nvar esm = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(7);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/api.js\n// Use environment variable for base URL\nconst BASE_URL=\"http://52.91.149.139:8080/api\"||false;const api=axios_default.a.create({baseURL:BASE_URL});// Optional: helper endpoints\nconst userApi=axios_default.a.create({baseURL:\"\".concat(BASE_URL,\"/users\")});const taskApi=axios_default.a.create({baseURL:\"\".concat(BASE_URL,\"/tasks\")});/* harmony default export */ var services_api = (api);\n// CONCATENATED MODULE: ./src/services/authServices.js\nfunction loginUser(credentials){return services_api.post(\"/users/login\",credentials);}function registerUser(userData){return services_api.post(\"/users/register\",userData);}// Add a function to get protected user data\nfunction getProfile(token){return services_api.get(\"/users/profile\",{headers:{Authorization:\"Bearer \".concat(token)}});}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/login.js\nfunction Login(_ref){let{onLogin}=_ref;const[email,setEmail]=Object(react[\"useState\"])(\"\");const[password,setPassword]=Object(react[\"useState\"])(\"\");const[error,setError]=Object(react[\"useState\"])(\"\");const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();// ✅ Add this\nconst handleSubmit=async e=>{e.preventDefault();try{var _res$data,_res$data2;const res=await loginUser({email,password});if((_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.user&&(_res$data2=res.data)!==null&&_res$data2!==void 0&&_res$data2.token){localStorage.setItem(\"token\",res.data.token);localStorage.setItem(\"user\",JSON.stringify(res.data.user));onLogin(res.data.user);navigate(\"/tasks\");// ✅ Redirect after login\n}else{setError(\"Invalid response from server\");}}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Server error, please try again later.\");}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Login\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{color:\"red\"},children:error})]});}\n// CONCATENATED MODULE: ./src/register.js\nfunction Register(){const[name,setName]=Object(react[\"useState\"])(\"\");const[email,setEmail]=Object(react[\"useState\"])(\"\");const[password,setPassword]=Object(react[\"useState\"])(\"\");const[error,setError]=Object(react[\"useState\"])(\"\");const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const handleSubmit=async e=>{e.preventDefault();try{await registerUser({name,email,password});alert(\"✅ Registration successful! Please login.\");navigate(\"/login\");}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Registration failed.\");console.error(\"Register error:\",err);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"auth-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Name\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Register\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{color:\"red\"},children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{onClick:()=>navigate(\"/login\"),style:{cursor:\"pointer\"},children:\"Already have an account? Login\"})]});}/* harmony default export */ var register = (Register);\n// CONCATENATED MODULE: ./src/Tasks.js\nfunction Tasks(_ref){let{user,onLogout}=_ref;const[task,setTask]=Object(react[\"useState\"])(\"\");const[tasks,setTasks]=Object(react[\"useState\"])([]);const[editingId,setEditingId]=Object(react[\"useState\"])(null);const[editText,setEditText]=Object(react[\"useState\"])(\"\");const token=localStorage.getItem(\"token\");const fetchTasks=async()=>{try{const res=await services_api.get(\"/tasks\",{headers:{Authorization:\"Bearer \".concat(token)}});setTasks(res.data);}catch(err){console.error(\"Failed to fetch tasks:\",err);}};const createTask=async()=>{try{const res=await services_api.post(\"/tasks\",{title:task},{headers:{Authorization:\"Bearer \".concat(token)}});setTasks([...tasks,res.data]);setTask(\"\");}catch(err){console.error(\"Failed to create task:\",err);}};const deleteTask=async id=>{try{await services_api.delete(\"/tasks/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});setTasks(tasks.filter(t=>t.id!==id));}catch(err){console.error(\"Failed to delete task:\",err);}};const startEditing=task=>{setEditingId(task.id);setEditText(task.title);};const cancelEditing=()=>{setEditingId(null);setEditText(\"\");};const updateTask=async()=>{try{const res=await services_api.put(\"/tasks/\".concat(editingId),{title:editText},{headers:{Authorization:\"Bearer \".concat(token)}});setTasks(tasks.map(t=>t.id===editingId?res.data:t));cancelEditing();}catch(err){console.error(\"Failed to update task:\",err);}};// eslint-disable-next-line react-hooks/exhaustive-deps\nObject(react[\"useEffect\"])(()=>{fetchTasks();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:\"2rem\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Welcome, \",user.name]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginBottom:\"1rem\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:task,onChange:e=>setTask(e.target.value),placeholder:\"New task\",style:{padding:\"0.5rem\",width:\"300px\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:createTask,style:{marginLeft:\"1rem\"},children:\"Add Task\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:tasks.map(t=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{style:{marginBottom:\"0.5rem\"},children:editingId===t.id?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:editText,onChange:e=>setEditText(e.target.value),style:{padding:\"0.3rem\",width:\"250px\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:updateTask,style:{marginLeft:\"0.5rem\"},children:\"Save\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:cancelEditing,style:{marginLeft:\"0.5rem\"},children:\"Cancel\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[t.title,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>startEditing(t),style:{marginLeft:\"1rem\"},children:\"Edit\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>deleteTask(t.id),style:{marginLeft:\"0.5rem\"},children:\"Delete\"})]})},t.id))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onLogout,style:{marginTop:\"2rem\"},children:\"Logout\"})]});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){const[user,setUser]=Object(react[\"useState\"])(null);Object(react[\"useEffect\"])(()=>{const token=localStorage.getItem(\"token\");const storedUser=localStorage.getItem(\"user\");if(token){try{const{exp}=Object(esm[\"a\" /* jwtDecode */])(token);if(Date.now()>=exp*1000){localStorage.clear();setUser(null);window.location.href=\"/login\";}else if(storedUser){setUser(JSON.parse(storedUser));}}catch(err){console.error(\"Invalid token:\",err);localStorage.clear();setUser(null);window.location.href=\"/login\";}}},[]);Object(react[\"useEffect\"])(()=>{if(user){localStorage.setItem(\"user\",JSON.stringify(user));}else{localStorage.removeItem(\"user\");}},[user]);const handleLogout=()=>{localStorage.removeItem(\"token\");localStorage.removeItem(\"user\");setUser(null);window.location.href=\"/login\";};const isAuthenticated=!!localStorage.getItem(\"token\");return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"d\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/login\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login,{onLogin:setUser})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/register\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(register,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/tasks\",element:isAuthenticated?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tasks,{user:user||{id:null,name:\"\",email:\"\"},onLogout:handleLogout}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Navigate */],{to:\"/login\",replace:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"*\",element:isAuthenticated?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Navigate */],{to:\"/tasks\",replace:true}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Navigate */],{to:\"/login\",replace:true})})]})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app-wrapper\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[44,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/index.css","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/services/api.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/services/authServices.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/login.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/register.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/Tasks.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/App.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/index.js"],"names":["BASE_URL","process","api","axios","create","baseURL","userApi","concat","taskApi","loginUser","credentials","post","registerUser","userData","getProfile","token","get","headers","Authorization","Login","_ref","onLogin","email","setEmail","useState","password","setPassword","error","setError","navigate","useNavigate","handleSubmit","e","preventDefault","_res$data","_res$data2","res","data","user","localStorage","setItem","JSON","stringify","err","_err$response","_err$response$data","response","_jsxs","children","_jsx","onSubmit","type","placeholder","value","onChange","target","required","style","color","Register","name","setName","alert","console","className","onClick","cursor","Tasks","onLogout","task","setTask","tasks","setTasks","editingId","setEditingId","editText","setEditText","getItem","fetchTasks","createTask","title","deleteTask","id","delete","filter","t","startEditing","cancelEditing","updateTask","put","map","useEffect","padding","marginBottom","width","marginLeft","_Fragment","marginTop","App","setUser","storedUser","exp","jwtDecode","Date","now","clear","window","location","href","parse","removeItem","handleLogout","isAuthenticated","Router","Routes","Route","path","element","Navigate","to","replace","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import axios from \"axios\";\n\n// Use environment variable for base URL\nconst BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:8080/api\";\n\nconst api = axios.create({\n  baseURL: BASE_URL,\n});\n\n// Optional: helper endpoints\nexport const userApi = axios.create({\n  baseURL: `${BASE_URL}/users`,\n});\n\nexport const taskApi = axios.create({\n  baseURL: `${BASE_URL}/tasks`,\n});\n\nexport default api;\n","import api from \"./api\";\n\nexport function loginUser(credentials) {\n  return api.post(\"/users/login\", credentials);\n}\n\nexport function registerUser(userData) {\n  return api.post(\"/users/register\", userData);\n}\n\n// Add a function to get protected user data\nexport function getProfile(token) {\n  return api.get(\"/users/profile\", { headers: { Authorization: `Bearer ${token}` } });\n}\n","import { useState } from \"react\";\nimport { loginUser } from \"./services/authServices\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Login({ onLogin }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate(); // ✅ Add this\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const res = await loginUser({ email, password });\n\n      if (res.data?.user && res.data?.token) {\n        localStorage.setItem(\"token\", res.data.token);\n        localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n\n        onLogin(res.data.user);\n        navigate(\"/tasks\"); // ✅ Redirect after login\n      } else {\n        setError(\"Invalid response from server\");\n      }\n    } catch (err) {\n      setError(\n        err.response?.data?.error || \"Server error, please try again later.\"\n      );\n    }\n  };\n\n  return (\n    <div>\n      <h2>Login</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n        <button type=\"submit\">Login</button>\n      </form>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { registerUser } from \"./services/authServices\";\n\nfunction Register() {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await registerUser({ name, email, password });\n      alert(\"✅ Registration successful! Please login.\");\n      navigate(\"/login\");\n    } catch (err) {\n      setError(err.response?.data?.error || \"Registration failed.\");\n      console.error(\"Register error:\", err);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <h2>Register</h2>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" placeholder=\"Name\" value={name} onChange={(e) => setName(e.target.value)} required />\n        <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n        <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\n        <button type=\"submit\">Register</button>\n      </form>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n      <p onClick={() => navigate(\"/login\")} style={{ cursor: \"pointer\" }}>\n        Already have an account? Login\n      </p>\n    </div>\n  );\n}\n\nexport default Register;\n","import React, { useState, useEffect } from \"react\";\nimport api from \"./services/api\";\n\nexport default function Tasks({ user, onLogout }) {\n  const [task, setTask] = useState(\"\");\n  const [tasks, setTasks] = useState([]);\n  const [editingId, setEditingId] = useState(null);\n  const [editText, setEditText] = useState(\"\");\n\n  const token = localStorage.getItem(\"token\");\n\n  const fetchTasks = async () => {\n    try {\n      const res = await api.get(\"/tasks\", {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setTasks(res.data);\n    } catch (err) {\n      console.error(\"Failed to fetch tasks:\", err);\n    }\n  };\n\n  const createTask = async () => {\n    try {\n      const res = await api.post(\n        \"/tasks\",\n        { title: task },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      setTasks([...tasks, res.data]);\n      setTask(\"\");\n    } catch (err) {\n      console.error(\"Failed to create task:\", err);\n    }\n  };\n\n  const deleteTask = async (id) => {\n    try {\n      await api.delete(`/tasks/${id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setTasks(tasks.filter((t) => t.id !== id));\n    } catch (err) {\n      console.error(\"Failed to delete task:\", err);\n    }\n  };\n\n  const startEditing = (task) => {\n    setEditingId(task.id);\n    setEditText(task.title);\n  };\n\n  const cancelEditing = () => {\n    setEditingId(null);\n    setEditText(\"\");\n  };\n\n  const updateTask = async () => {\n    try {\n      const res = await api.put(\n        `/tasks/${editingId}`,\n        { title: editText },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      setTasks(tasks.map((t) => (t.id === editingId ? res.data : t)));\n      cancelEditing();\n    } catch (err) {\n      console.error(\"Failed to update task:\", err);\n    }\n  };\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  return (\n    <div style={{ padding: \"2rem\" }}>\n      <h2>Welcome, {user.name}</h2>\n\n      <div style={{ marginBottom: \"1rem\" }}>\n        <input\n          value={task}\n          onChange={(e) => setTask(e.target.value)}\n          placeholder=\"New task\"\n          style={{ padding: \"0.5rem\", width: \"300px\" }}\n        />\n        <button onClick={createTask} style={{ marginLeft: \"1rem\" }}>\n          Add Task\n        </button>\n      </div>\n\n      <ul>\n        {tasks.map((t) => (\n          <li key={t.id} style={{ marginBottom: \"0.5rem\" }}>\n            {editingId === t.id ? (\n              <>\n                <input\n                  value={editText}\n                  onChange={(e) => setEditText(e.target.value)}\n                  style={{ padding: \"0.3rem\", width: \"250px\" }}\n                />\n                <button onClick={updateTask} style={{ marginLeft: \"0.5rem\" }}>\n                  Save\n                </button>\n                <button onClick={cancelEditing} style={{ marginLeft: \"0.5rem\" }}>\n                  Cancel\n                </button>\n              </>\n            ) : (\n              <>\n                {t.title}\n                <button onClick={() => startEditing(t)} style={{ marginLeft: \"1rem\" }}>\n                  Edit\n                </button>\n                <button onClick={() => deleteTask(t.id)} style={{ marginLeft: \"0.5rem\" }}>\n                  Delete\n                </button>\n              </>\n            )}\n          </li>\n        ))}\n      </ul>\n\n      <button onClick={onLogout} style={{ marginTop: \"2rem\" }}>\n        Logout\n      </button>\n    </div>\n  );\n}\n","import { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { jwtDecode } from \"jwt-decode\";\n\nimport Login from \"./login\";\nimport Register from \"./register\";\nimport Tasks from \"./Tasks\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const storedUser = localStorage.getItem(\"user\");\n\n    if (token) {\n      try {\n        const { exp } = jwtDecode(token);\n        if (Date.now() >= exp * 1000) {\n          localStorage.clear();\n          setUser(null);\n          window.location.href = \"/login\";\n        } else if (storedUser) {\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (err) {\n        console.error(\"Invalid token:\", err);\n        localStorage.clear();\n        setUser(null);\n        window.location.href = \"/login\";\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    if (user) {\n      localStorage.setItem(\"user\", JSON.stringify(user));\n    } else {\n      localStorage.removeItem(\"user\");\n    }\n  }, [user]);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    setUser(null);\n    window.location.href = \"/login\";\n  };\n\n  const isAuthenticated = !!localStorage.getItem(\"token\");\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/login\" element={<Login onLogin={setUser} />} />\n        <Route path=\"/register\" element={<Register />} />\n        <Route\n          path=\"/tasks\"\n          element={\n            isAuthenticated ? (\n              <Tasks user={user || { id: null, name: \"\", email: \"\" }} onLogout={handleLogout} />\n            ) : (\n              <Navigate to=\"/login\" replace />\n            )\n          }\n        />\n        <Route\n          path=\"*\"\n          element={\n            isAuthenticated ? (\n              <Navigate to=\"/tasks\" replace />\n            ) : (\n              <Navigate to=\"/login\" replace />\n            )\n          }\n        />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <div className=\"app-wrapper\">\n            <App />\n        </div>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n"]}}