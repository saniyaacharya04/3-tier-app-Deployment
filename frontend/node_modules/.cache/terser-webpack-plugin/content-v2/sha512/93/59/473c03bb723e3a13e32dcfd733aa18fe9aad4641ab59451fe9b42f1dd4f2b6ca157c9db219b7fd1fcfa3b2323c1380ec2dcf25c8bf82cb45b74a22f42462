{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,a){},45:function(e,t,a){\"use strict\";a.r(t);var r=a(0),n=a.n(r),o=a(6),s=a.n(o),c=(a(24),a(5)),l=a(2),i=a(19),d=a(7),u=a.n(d);const j=\"http://52.91.149.139:8080/api\",b=u.a.create({baseURL:j});u.a.create({baseURL:\"\".concat(j,\"/users\")}),u.a.create({baseURL:\"\".concat(j,\"/tasks\")});var g=b;var m=a(3);function h(e){let{onLogin:t}=e;const[a,n]=Object(r.useState)(\"\"),[o,s]=Object(r.useState)(\"\"),[c,i]=Object(r.useState)(\"\"),d=Object(l.q)();return Object(m.jsxs)(\"div\",{children:[Object(m.jsx)(\"h2\",{children:\"Login\"}),Object(m.jsxs)(\"form\",{onSubmit:async e=>{e.preventDefault();try{var r,n;const e=await(l={email:a,password:o},g.post(\"/users/login\",l));null!==(r=e.data)&&void 0!==r&&r.user&&null!==(n=e.data)&&void 0!==n&&n.token?(localStorage.setItem(\"token\",e.data.token),localStorage.setItem(\"user\",JSON.stringify(e.data.user)),t(e.data.user),d(\"/tasks\")):i(\"Invalid response from server\")}catch(u){var s,c;i((null===(s=u.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.error)||\"Server error, please try again later.\")}var l},children:[Object(m.jsx)(\"input\",{type:\"email\",placeholder:\"Email\",value:a,onChange:e=>n(e.target.value),required:!0}),Object(m.jsx)(\"input\",{type:\"password\",placeholder:\"Password\",value:o,onChange:e=>s(e.target.value),required:!0}),Object(m.jsx)(\"button\",{type:\"submit\",children:\"Login\"})]}),c&&Object(m.jsx)(\"p\",{style:{color:\"red\"},children:c})]})}var p=a(10);var O=function(){const[e,t]=Object(r.useState)({name:\"\",email:\"\",password:\"\"}),[a,n]=Object(r.useState)(\"\"),o=Object(l.q)(),s=e=>{t(t=>Object(p.a)(Object(p.a)({},t),{},{[e.target.name]:e.target.value}))};return Object(m.jsxs)(\"div\",{className:\"auth-container\",children:[Object(m.jsx)(\"h2\",{children:\"Register\"}),Object(m.jsxs)(\"form\",{onSubmit:async t=>{t.preventDefault();const{name:a,email:r,password:s}=e;var c;if(a&&r&&s)try{await(c={name:a,email:r,password:s},g.post(\"/users/register\",c)),alert(\"\\u2705 Registration successful! Please login.\"),o(\"/login\")}catch(d){var l,i;n((null===(l=d.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.error)||\"Registration failed.\"),console.error(\"Register error:\",d)}else n(\"All fields are required.\")},children:[Object(m.jsx)(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:e.name,onChange:s,required:!0}),Object(m.jsx)(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:e.email,onChange:s,required:!0}),Object(m.jsx)(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:e.password,onChange:s,required:!0}),Object(m.jsx)(\"button\",{type:\"submit\",children:\"Register\"})]}),a&&Object(m.jsx)(\"p\",{style:{color:\"red\"},children:a}),Object(m.jsx)(\"p\",{onClick:()=>o(\"/login\"),style:{cursor:\"pointer\",color:\"#007bff\"},children:\"Already have an account? Login\"})]})};function v(e){let{user:t,onLogout:a}=e;const[n,o]=Object(r.useState)(\"\"),[s,c]=Object(r.useState)(\"\"),[l,i]=Object(r.useState)([]),[d,u]=Object(r.useState)(null),[j,b]=Object(r.useState)(\"\"),h=localStorage.getItem(\"token\"),p=null!==t&&void 0!==t&&t.id?t:JSON.parse(localStorage.getItem(\"user\"));Object(r.useEffect)(()=>{null!==p&&void 0!==p&&p.id||(console.warn(\"User ID missing \\u2014 redirecting to login\"),a())},[p,a]);const O=()=>{u(null),b(\"\")},v=async()=>{try{const e=await g.put(\"/tasks/\".concat(d),{title:j},{headers:{Authorization:\"Bearer \".concat(h)}});i(l.map(t=>t.id===d?e.data:t)),O()}catch(e){console.error(\"Failed to update task:\",e)}};return Object(r.useEffect)(()=>{(async()=>{try{const e=await g.get(\"/tasks\",{headers:{Authorization:\"Bearer \".concat(h)}});i(e.data)}catch(e){console.error(\"Failed to fetch tasks:\",e)}})()},[]),Object(m.jsxs)(\"div\",{style:{padding:\"2rem\"},children:[Object(m.jsxs)(\"h2\",{children:[\"Welcome, \",(null===p||void 0===p?void 0:p.name)||\"User\"]}),Object(m.jsxs)(\"div\",{style:{marginBottom:\"1rem\"},children:[Object(m.jsx)(\"input\",{value:n,onChange:e=>o(e.target.value),placeholder:\"New task\",style:{padding:\"0.5rem\",width:\"300px\"}}),Object(m.jsx)(\"input\",{value:s,onChange:e=>c(e.target.value),placeholder:\"Description\",style:{padding:\"0.5rem\",width:\"300px\",marginLeft:\"1rem\"}}),Object(m.jsx)(\"button\",{onClick:async()=>{if(null===p||void 0===p||!p.id||!n.trim())return alert(\"User ID and task title are required\"),void console.log(\"Debug:\",{userId:null===p||void 0===p?void 0:p.id,task:n});const e={user_id:p.id,title:n,description:s||\"\",status:\"pending\"};try{const t=await g.post(\"/tasks\",e,{headers:{Authorization:\"Bearer \".concat(h)}});i([...l,t.data]),o(\"\"),c(\"\")}catch(t){console.error(\"Failed to create task:\",t),alert(\"\\u274c Task creation failed\")}},style:{marginLeft:\"1rem\"},children:\"Add Task\"})]}),Object(m.jsx)(\"ul\",{children:l.map(e=>Object(m.jsx)(\"li\",{style:{marginBottom:\"0.5rem\"},children:d===e.id?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(\"input\",{value:j,onChange:e=>b(e.target.value),style:{padding:\"0.3rem\",width:\"250px\"}}),Object(m.jsx)(\"button\",{onClick:v,style:{marginLeft:\"0.5rem\"},children:\"Save\"}),Object(m.jsx)(\"button\",{onClick:O,style:{marginLeft:\"0.5rem\"},children:\"Cancel\"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(\"strong\",{children:e.title}),\" \\u2014 \",e.description,Object(m.jsx)(\"button\",{onClick:()=>(e=>{u(e.id),b(e.title)})(e),style:{marginLeft:\"1rem\"},children:\"Edit\"}),Object(m.jsx)(\"button\",{onClick:()=>(async e=>{try{await g.delete(\"/tasks/\".concat(e),{headers:{Authorization:\"Bearer \".concat(h)}}),i(l.filter(t=>t.id!==e))}catch(t){console.error(\"Failed to delete task:\",t)}})(e.id),style:{marginLeft:\"0.5rem\"},children:\"Delete\"})]})},e.id))}),Object(m.jsx)(\"button\",{onClick:a,style:{marginTop:\"2rem\"},children:\"Logout\"})]})}var x=function(){const[e,t]=Object(r.useState)(null),[a,n]=Object(r.useState)(!0);Object(r.useEffect)(()=>{const e=localStorage.getItem(\"token\"),a=localStorage.getItem(\"user\");if(e)try{const{exp:r}=Object(i.a)(e);if(Date.now()>=1e3*r)localStorage.clear(),t(null),window.location.href=\"/login\";else if(a){const e=JSON.parse(a);null!==e&&void 0!==e&&e.id?t(e):(console.warn(\"User object missing ID\"),localStorage.clear(),window.location.href=\"/login\")}}catch(r){console.error(\"Invalid token:\",r),localStorage.clear(),t(null),window.location.href=\"/login\"}n(!1)},[]),Object(r.useEffect)(()=>{e?localStorage.setItem(\"user\",JSON.stringify(e)):localStorage.removeItem(\"user\")},[e]);const o=!!localStorage.getItem(\"token\");return Object(m.jsx)(c.a,{children:Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{path:\"/login\",element:Object(m.jsx)(h,{onLogin:t})}),Object(m.jsx)(l.b,{path:\"/register\",element:Object(m.jsx)(O,{})}),Object(m.jsx)(l.b,{path:\"/tasks\",element:a?Object(m.jsx)(\"div\",{children:\"Loading...\"}):o&&null!==e&&void 0!==e&&e.id?Object(m.jsx)(v,{user:e,onLogout:()=>{localStorage.removeItem(\"token\"),localStorage.removeItem(\"user\"),t(null),window.location.href=\"/login\"}}):Object(m.jsx)(l.a,{to:\"/login\",replace:!0})}),Object(m.jsx)(l.b,{path:\"*\",element:o?Object(m.jsx)(l.a,{to:\"/tasks\",replace:!0}):Object(m.jsx)(l.a,{to:\"/login\",replace:!0})})]})})};s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(\"div\",{className:\"app-wrapper\",children:Object(m.jsx)(x,{})})}),document.getElementById(\"root\"))}},[[45,1,2]]]);","name":"static/js/main.3abc50df.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","dist","react_router_dist","esm","axios","axios_default","BASE_URL","api","a","create","baseURL","concat","services_api","jsx_runtime","Login","_ref","onLogin","email","setEmail","Object","password","setPassword","error","setError","navigate","children","onSubmit","async","e","preventDefault","_res$data","_res$data2","res","credentials","post","data","user","token","localStorage","setItem","JSON","stringify","err","_err$response","_err$response$data","response","type","placeholder","value","onChange","target","required","style","color","objectSpread2","register","formData","setFormData","name","handleChange","prev","className","userData","alert","console","onClick","cursor","Tasks","propUser","onLogout","task","setTask","description","setDescription","tasks","setTasks","editingId","setEditingId","editText","setEditText","getItem","id","parse","warn","cancelEditing","updateTask","put","title","headers","Authorization","map","t","get","fetchTasks","padding","marginBottom","width","marginLeft","trim","log","userId","payload","user_id","status","startEditing","delete","filter","deleteTask","marginTop","src_App","setUser","loading","setLoading","storedUser","exp","Date","now","clear","window","location","href","parsedUser","removeItem","isAuthenticated","path","element","to","replace","render","StrictMode","document","getElementById"],"sources":["static/js/main.3abc50df.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(6);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/build/esm/index.js\nvar esm = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(7);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/api.js\n// Use environment variable for base URL\nconst BASE_URL=\"http://52.91.149.139:8080/api\"||false;const api=axios_default.a.create({baseURL:BASE_URL});// Optional: helper endpoints\nconst userApi=axios_default.a.create({baseURL:\"\".concat(BASE_URL,\"/users\")});const taskApi=axios_default.a.create({baseURL:\"\".concat(BASE_URL,\"/tasks\")});/* harmony default export */ var services_api = (api);\n// CONCATENATED MODULE: ./src/services/authServices.js\nfunction loginUser(credentials){return services_api.post(\"/users/login\",credentials);}function registerUser(userData){return services_api.post(\"/users/register\",userData);}// Add a function to get protected user data\nfunction getProfile(token){return services_api.get(\"/users/profile\",{headers:{Authorization:\"Bearer \".concat(token)}});}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/login.js\nfunction Login(_ref){let{onLogin}=_ref;const[email,setEmail]=Object(react[\"useState\"])(\"\");const[password,setPassword]=Object(react[\"useState\"])(\"\");const[error,setError]=Object(react[\"useState\"])(\"\");const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();// ✅ Add this\nconst handleSubmit=async e=>{e.preventDefault();try{var _res$data,_res$data2;const res=await loginUser({email,password});if((_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.user&&(_res$data2=res.data)!==null&&_res$data2!==void 0&&_res$data2.token){localStorage.setItem(\"token\",res.data.token);localStorage.setItem(\"user\",JSON.stringify(res.data.user));onLogin(res.data.user);navigate(\"/tasks\");// ✅ Redirect after login\n}else{setError(\"Invalid response from server\");}}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Server error, please try again later.\");}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Login\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{color:\"red\"},children:error})]});}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 4 modules\nvar objectSpread2 = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./src/register.js\nfunction Register(){const[formData,setFormData]=Object(react[\"useState\"])({name:\"\",email:\"\",password:\"\"});const[error,setError]=Object(react[\"useState\"])(\"\");const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const handleChange=e=>{setFormData(prev=>Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prev),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();const{name,email,password}=formData;if(!name||!email||!password){setError(\"All fields are required.\");return;}try{await registerUser({name,email,password});alert(\"✅ Registration successful! Please login.\");navigate(\"/login\");}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Registration failed.\");console.error(\"Register error:\",err);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"auth-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:formData.name,onChange:handleChange,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:formData.password,onChange:handleChange,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Register\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{color:\"red\"},children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{onClick:()=>navigate(\"/login\"),style:{cursor:\"pointer\",color:\"#007bff\"},children:\"Already have an account? Login\"})]});}/* harmony default export */ var register = (Register);\n// CONCATENATED MODULE: ./src/Tasks.js\nfunction Tasks(_ref){let{user:propUser,onLogout}=_ref;const[task,setTask]=Object(react[\"useState\"])(\"\");const[description,setDescription]=Object(react[\"useState\"])(\"\");const[tasks,setTasks]=Object(react[\"useState\"])([]);const[editingId,setEditingId]=Object(react[\"useState\"])(null);const[editText,setEditText]=Object(react[\"useState\"])(\"\");const token=localStorage.getItem(\"token\");// Ensure user is available even if prop is lost\nconst user=propUser!==null&&propUser!==void 0&&propUser.id?propUser:JSON.parse(localStorage.getItem(\"user\"));Object(react[\"useEffect\"])(()=>{if(!(user!==null&&user!==void 0&&user.id)){console.warn(\"User ID missing — redirecting to login\");onLogout();}},[user,onLogout]);const fetchTasks=async()=>{try{const res=await services_api.get(\"/tasks\",{headers:{Authorization:\"Bearer \".concat(token)}});setTasks(res.data);}catch(err){console.error(\"Failed to fetch tasks:\",err);}};const createTask=async()=>{if(!(user!==null&&user!==void 0&&user.id)||!task.trim()){alert(\"User ID and task title are required\");console.log(\"Debug:\",{userId:user===null||user===void 0?void 0:user.id,task});return;}const payload={user_id:user.id,title:task,description:description||\"\",status:\"pending\"};try{const res=await services_api.post(\"/tasks\",payload,{headers:{Authorization:\"Bearer \".concat(token)}});setTasks([...tasks,res.data]);setTask(\"\");setDescription(\"\");}catch(err){console.error(\"Failed to create task:\",err);alert(\"❌ Task creation failed\");}};const deleteTask=async id=>{try{await services_api.delete(\"/tasks/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});setTasks(tasks.filter(t=>t.id!==id));}catch(err){console.error(\"Failed to delete task:\",err);}};const startEditing=task=>{setEditingId(task.id);setEditText(task.title);};const cancelEditing=()=>{setEditingId(null);setEditText(\"\");};const updateTask=async()=>{try{const res=await services_api.put(\"/tasks/\".concat(editingId),{title:editText},{headers:{Authorization:\"Bearer \".concat(token)}});setTasks(tasks.map(t=>t.id===editingId?res.data:t));cancelEditing();}catch(err){console.error(\"Failed to update task:\",err);}};Object(react[\"useEffect\"])(()=>{fetchTasks();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:\"2rem\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Welcome, \",(user===null||user===void 0?void 0:user.name)||\"User\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginBottom:\"1rem\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:task,onChange:e=>setTask(e.target.value),placeholder:\"New task\",style:{padding:\"0.5rem\",width:\"300px\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:description,onChange:e=>setDescription(e.target.value),placeholder:\"Description\",style:{padding:\"0.5rem\",width:\"300px\",marginLeft:\"1rem\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:createTask,style:{marginLeft:\"1rem\"},children:\"Add Task\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:tasks.map(t=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{style:{marginBottom:\"0.5rem\"},children:editingId===t.id?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:editText,onChange:e=>setEditText(e.target.value),style:{padding:\"0.3rem\",width:\"250px\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:updateTask,style:{marginLeft:\"0.5rem\"},children:\"Save\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:cancelEditing,style:{marginLeft:\"0.5rem\"},children:\"Cancel\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:t.title}),\" \\u2014 \",t.description,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>startEditing(t),style:{marginLeft:\"1rem\"},children:\"Edit\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>deleteTask(t.id),style:{marginLeft:\"0.5rem\"},children:\"Delete\"})]})},t.id))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onLogout,style:{marginTop:\"2rem\"},children:\"Logout\"})]});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){const[user,setUser]=Object(react[\"useState\"])(null);const[loading,setLoading]=Object(react[\"useState\"])(true);Object(react[\"useEffect\"])(()=>{const token=localStorage.getItem(\"token\");const storedUser=localStorage.getItem(\"user\");if(token){try{const{exp}=Object(esm[\"a\" /* jwtDecode */])(token);if(Date.now()>=exp*1000){localStorage.clear();setUser(null);window.location.href=\"/login\";}else if(storedUser){const parsedUser=JSON.parse(storedUser);if(parsedUser!==null&&parsedUser!==void 0&&parsedUser.id){setUser(parsedUser);}else{console.warn(\"User object missing ID\");localStorage.clear();window.location.href=\"/login\";}}}catch(err){console.error(\"Invalid token:\",err);localStorage.clear();setUser(null);window.location.href=\"/login\";}}setLoading(false);},[]);Object(react[\"useEffect\"])(()=>{if(user){localStorage.setItem(\"user\",JSON.stringify(user));}else{localStorage.removeItem(\"user\");}},[user]);const handleLogout=()=>{localStorage.removeItem(\"token\");localStorage.removeItem(\"user\");setUser(null);window.location.href=\"/login\";};const isAuthenticated=!!localStorage.getItem(\"token\");return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"d\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/login\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login,{onLogin:setUser})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/register\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(register,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/tasks\",element:loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Loading...\"}):isAuthenticated&&user!==null&&user!==void 0&&user.id?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tasks,{user:user,onLogout:handleLogout}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Navigate */],{to:\"/login\",replace:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"*\",element:isAuthenticated?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Navigate */],{to:\"/tasks\",replace:true}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Navigate */],{to:\"/login\",replace:true})})]})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app-wrapper\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[45,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/index.css","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/services/api.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/services/authServices.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/login.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/register.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/Tasks.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/App.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/index.js"],"names":["BASE_URL","process","api","axios","create","baseURL","userApi","concat","taskApi","loginUser","credentials","post","registerUser","userData","getProfile","token","get","headers","Authorization","Login","_ref","onLogin","email","setEmail","useState","password","setPassword","error","setError","navigate","useNavigate","handleSubmit","e","preventDefault","_res$data","_res$data2","res","data","user","localStorage","setItem","JSON","stringify","err","_err$response","_err$response$data","response","_jsxs","children","_jsx","onSubmit","type","placeholder","value","onChange","target","required","style","color","Register","formData","setFormData","name","handleChange","prev","_objectSpread","alert","console","className","onClick","cursor","Tasks","propUser","onLogout","task","setTask","description","setDescription","tasks","setTasks","editingId","setEditingId","editText","setEditText","getItem","id","parse","useEffect","warn","fetchTasks","createTask","trim","log","userId","payload","user_id","title","status","deleteTask","delete","filter","t","startEditing","cancelEditing","updateTask","put","map","padding","marginBottom","width","marginLeft","_Fragment","marginTop","App","setUser","loading","setLoading","storedUser","exp","jwtDecode","Date","now","clear","window","location","href","parsedUser","removeItem","handleLogout","isAuthenticated","Router","Routes","Route","path","element","Navigate","to","replace","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import axios from \"axios\";\n\n// Use environment variable for base URL\nconst BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:8080/api\";\n\nconst api = axios.create({\n  baseURL: BASE_URL,\n});\n\n// Optional: helper endpoints\nexport const userApi = axios.create({\n  baseURL: `${BASE_URL}/users`,\n});\n\nexport const taskApi = axios.create({\n  baseURL: `${BASE_URL}/tasks`,\n});\n\nexport default api;\n","import api from \"./api\";\n\nexport function loginUser(credentials) {\n  return api.post(\"/users/login\", credentials);\n}\n\nexport function registerUser(userData) {\n  return api.post(\"/users/register\", userData);\n}\n\n// Add a function to get protected user data\nexport function getProfile(token) {\n  return api.get(\"/users/profile\", { headers: { Authorization: `Bearer ${token}` } });\n}\n","import { useState } from \"react\";\nimport { loginUser } from \"./services/authServices\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Login({ onLogin }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate(); // ✅ Add this\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const res = await loginUser({ email, password });\n\n      if (res.data?.user && res.data?.token) {\n        localStorage.setItem(\"token\", res.data.token);\n        localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n\n        onLogin(res.data.user);\n        navigate(\"/tasks\"); // ✅ Redirect after login\n      } else {\n        setError(\"Invalid response from server\");\n      }\n    } catch (err) {\n      setError(\n        err.response?.data?.error || \"Server error, please try again later.\"\n      );\n    }\n  };\n\n  return (\n    <div>\n      <h2>Login</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n        <button type=\"submit\">Login</button>\n      </form>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { registerUser } from \"./services/authServices\";\n\nfunction Register() {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n  });\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setFormData((prev) => ({\n      ...prev,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const { name, email, password } = formData;\n\n    if (!name || !email || !password) {\n      setError(\"All fields are required.\");\n      return;\n    }\n\n    try {\n      await registerUser({ name, email, password });\n      alert(\"✅ Registration successful! Please login.\");\n      navigate(\"/login\");\n    } catch (err) {\n      setError(err.response?.data?.error || \"Registration failed.\");\n      console.error(\"Register error:\", err);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <h2>Register</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Name\"\n          value={formData.name}\n          onChange={handleChange}\n          required\n        />\n        <input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          value={formData.email}\n          onChange={handleChange}\n          required\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          value={formData.password}\n          onChange={handleChange}\n          required\n        />\n        <button type=\"submit\">Register</button>\n      </form>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n      <p onClick={() => navigate(\"/login\")} style={{ cursor: \"pointer\", color: \"#007bff\" }}>\n        Already have an account? Login\n      </p>\n    </div>\n  );\n}\n\nexport default Register;\n","import React, { useState, useEffect } from \"react\";\nimport api from \"./services/api\";\n\nexport default function Tasks({ user: propUser, onLogout }) {\n  const [task, setTask] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [tasks, setTasks] = useState([]);\n  const [editingId, setEditingId] = useState(null);\n  const [editText, setEditText] = useState(\"\");\n  const token = localStorage.getItem(\"token\");\n\n  // Ensure user is available even if prop is lost\n  const user = propUser?.id ? propUser : JSON.parse(localStorage.getItem(\"user\"));\n\n  useEffect(() => {\n    if (!user?.id) {\n      console.warn(\"User ID missing — redirecting to login\");\n      onLogout();\n    }\n  }, [user, onLogout]);\n\n  const fetchTasks = async () => {\n    try {\n      const res = await api.get(\"/tasks\", {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setTasks(res.data);\n    } catch (err) {\n      console.error(\"Failed to fetch tasks:\", err);\n    }\n  };\n\n  const createTask = async () => {\n    if (!user?.id || !task.trim()) {\n      alert(\"User ID and task title are required\");\n      console.log(\"Debug:\", { userId: user?.id, task });\n      return;\n    }\n\n    const payload = {\n      user_id: user.id,\n      title: task,\n      description: description || \"\",\n      status: \"pending\"\n    };\n\n    try {\n      const res = await api.post(\"/tasks\", payload, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setTasks([...tasks, res.data]);\n      setTask(\"\");\n      setDescription(\"\");\n    } catch (err) {\n      console.error(\"Failed to create task:\", err);\n      alert(\"❌ Task creation failed\");\n    }\n  };\n\n  const deleteTask = async (id) => {\n    try {\n      await api.delete(`/tasks/${id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setTasks(tasks.filter((t) => t.id !== id));\n    } catch (err) {\n      console.error(\"Failed to delete task:\", err);\n    }\n  };\n\n  const startEditing = (task) => {\n    setEditingId(task.id);\n    setEditText(task.title);\n  };\n\n  const cancelEditing = () => {\n    setEditingId(null);\n    setEditText(\"\");\n  };\n\n  const updateTask = async () => {\n    try {\n      const res = await api.put(\n        `/tasks/${editingId}`,\n        { title: editText },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      setTasks(tasks.map((t) => (t.id === editingId ? res.data : t)));\n      cancelEditing();\n    } catch (err) {\n      console.error(\"Failed to update task:\", err);\n    }\n  };\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  return (\n    <div style={{ padding: \"2rem\" }}>\n      <h2>Welcome, {user?.name || \"User\"}</h2>\n\n      <div style={{ marginBottom: \"1rem\" }}>\n        <input\n          value={task}\n          onChange={(e) => setTask(e.target.value)}\n          placeholder=\"New task\"\n          style={{ padding: \"0.5rem\", width: \"300px\" }}\n        />\n        <input\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          placeholder=\"Description\"\n          style={{ padding: \"0.5rem\", width: \"300px\", marginLeft: \"1rem\" }}\n        />\n        <button onClick={createTask} style={{ marginLeft: \"1rem\" }}>\n          Add Task\n        </button>\n      </div>\n\n      <ul>\n        {tasks.map((t) => (\n          <li key={t.id} style={{ marginBottom: \"0.5rem\" }}>\n            {editingId === t.id ? (\n              <>\n                <input\n                  value={editText}\n                  onChange={(e) => setEditText(e.target.value)}\n                  style={{ padding: \"0.3rem\", width: \"250px\" }}\n                />\n                <button onClick={updateTask} style={{ marginLeft: \"0.5rem\" }}>\n                  Save\n                </button>\n                <button onClick={cancelEditing} style={{ marginLeft: \"0.5rem\" }}>\n                  Cancel\n                </button>\n              </>\n            ) : (\n              <>\n                <strong>{t.title}</strong> — {t.description}\n                <button onClick={() => startEditing(t)} style={{ marginLeft: \"1rem\" }}>\n                  Edit\n                </button>\n                <button onClick={() => deleteTask(t.id)} style={{ marginLeft: \"0.5rem\" }}>\n                  Delete\n                </button>\n              </>\n            )}\n          </li>\n        ))}\n      </ul>\n\n      <button onClick={onLogout} style={{ marginTop: \"2rem\" }}>\n        Logout\n      </button>\n    </div>\n  );\n}\n","import { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { jwtDecode } from \"jwt-decode\";\n\nimport Login from \"./login\";\nimport Register from \"./register\";\nimport Tasks from \"./Tasks\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const storedUser = localStorage.getItem(\"user\");\n\n    if (token) {\n      try {\n        const { exp } = jwtDecode(token);\n        if (Date.now() >= exp * 1000) {\n          localStorage.clear();\n          setUser(null);\n          window.location.href = \"/login\";\n        } else if (storedUser) {\n          const parsedUser = JSON.parse(storedUser);\n          if (parsedUser?.id) {\n            setUser(parsedUser);\n          } else {\n            console.warn(\"User object missing ID\");\n            localStorage.clear();\n            window.location.href = \"/login\";\n          }\n        }\n      } catch (err) {\n        console.error(\"Invalid token:\", err);\n        localStorage.clear();\n        setUser(null);\n        window.location.href = \"/login\";\n      }\n    }\n    setLoading(false);\n  }, []);\n\n  useEffect(() => {\n    if (user) {\n      localStorage.setItem(\"user\", JSON.stringify(user));\n    } else {\n      localStorage.removeItem(\"user\");\n    }\n  }, [user]);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    setUser(null);\n    window.location.href = \"/login\";\n  };\n\n  const isAuthenticated = !!localStorage.getItem(\"token\");\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/login\" element={<Login onLogin={setUser} />} />\n        <Route path=\"/register\" element={<Register />} />\n        <Route\n          path=\"/tasks\"\n          element={\n            loading ? (\n              <div>Loading...</div>\n            ) : isAuthenticated && user?.id ? (\n              <Tasks user={user} onLogout={handleLogout} />\n            ) : (\n              <Navigate to=\"/login\" replace />\n            )\n          }\n        />\n        <Route\n          path=\"*\"\n          element={\n            isAuthenticated ? (\n              <Navigate to=\"/tasks\" replace />\n            ) : (\n              <Navigate to=\"/login\" replace />\n            )\n          }\n        />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <div className=\"app-wrapper\">\n            <App />\n        </div>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n"]}}