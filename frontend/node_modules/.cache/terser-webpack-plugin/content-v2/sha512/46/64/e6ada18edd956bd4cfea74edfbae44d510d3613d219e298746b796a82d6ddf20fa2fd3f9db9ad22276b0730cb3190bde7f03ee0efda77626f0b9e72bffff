{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,a){},44:function(e,t,a){\"use strict\";a.r(t);var r=a(0),c=a.n(r),s=a(5),n=a.n(s),o=(a(23),a(9)),l=a(2),i=a(18),d=a(6),j=a.n(d);const u=\"http://localhost:8080/api\",b=j.a.create({baseURL:u});j.a.create({baseURL:\"\".concat(u,\"/users\")}),j.a.create({baseURL:\"\".concat(u,\"/tasks\")});var h=b;var g=a(3);function p(e){let{onLogin:t}=e;const[a,c]=Object(r.useState)(\"\"),[s,n]=Object(r.useState)(\"\"),[o,l]=Object(r.useState)(\"\");return Object(g.jsxs)(\"div\",{children:[Object(g.jsx)(\"h2\",{children:\"Login\"}),Object(g.jsxs)(\"form\",{onSubmit:async e=>{e.preventDefault();try{var r,c;const e=await(i={email:a,password:s},h.post(\"/users/login\",i));null!==(r=e.data)&&void 0!==r&&r.user&&null!==(c=e.data)&&void 0!==c&&c.token?(localStorage.setItem(\"token\",e.data.token),localStorage.setItem(\"user\",JSON.stringify(e.data.user)),t(e.data.user)):l(\"Invalid response from server\")}catch(d){var n,o;l((null===(n=d.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.error)||\"Server error, please try again later.\")}var i},children:[Object(g.jsx)(\"input\",{type:\"email\",placeholder:\"Email\",value:a,onChange:e=>c(e.target.value),required:!0}),Object(g.jsx)(\"input\",{type:\"password\",placeholder:\"Password\",value:s,onChange:e=>n(e.target.value),required:!0}),Object(g.jsx)(\"button\",{type:\"submit\",children:\"Login\"})]}),o&&Object(g.jsx)(\"p\",{style:{color:\"red\"},children:o})]})}var O=function(){const[e,t]=Object(r.useState)(\"\"),[a,c]=Object(r.useState)(\"\"),[s,n]=Object(r.useState)(\"\"),o=Object(l.q)();return Object(g.jsxs)(\"div\",{className:\"auth-container\",children:[Object(g.jsx)(\"h2\",{children:\"Register\"}),Object(g.jsxs)(\"form\",{onSubmit:async t=>{t.preventDefault();try{await(s={email:e,password:a},h.post(\"/users/register\",s)),alert(\"\\u2705 Registration successful! Please login.\"),o(\"/login\")}catch(l){var r,c;n((null===(r=l.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.error)||\"Registration failed.\"),console.error(\"Register error:\",l)}var s},children:[Object(g.jsx)(\"input\",{type:\"email\",placeholder:\"Email\",value:e,onChange:e=>t(e.target.value),required:!0}),Object(g.jsx)(\"input\",{type:\"password\",placeholder:\"Password\",value:a,onChange:e=>c(e.target.value),required:!0}),Object(g.jsx)(\"button\",{type:\"submit\",children:\"Register\"})]}),s&&Object(g.jsx)(\"p\",{style:{color:\"red\"},children:s}),Object(g.jsx)(\"p\",{onClick:()=>o(\"/login\"),style:{cursor:\"pointer\"},children:\"Already have an account? Login\"})]})};function m(e){let{user:t,onLogout:a}=e;const[c,s]=Object(r.useState)(\"\"),[n,o]=Object(r.useState)([]),[l,i]=Object(r.useState)(null),[d,j]=Object(r.useState)(\"\"),u=localStorage.getItem(\"token\"),b=()=>{i(null),j(\"\")},p=async()=>{try{const e=await h.put(\"/tasks/\".concat(l),{title:d},{headers:{Authorization:\"Bearer \".concat(u)}});o(n.map(t=>t.id===l?e.data:t)),b()}catch(e){console.error(\"Failed to update task:\",e)}};return Object(r.useEffect)(()=>{(async()=>{try{const e=await h.get(\"/tasks\",{headers:{Authorization:\"Bearer \".concat(u)}});o(e.data)}catch(e){console.error(\"Failed to fetch tasks:\",e)}})()},[]),Object(g.jsxs)(\"div\",{style:{padding:\"2rem\"},children:[Object(g.jsxs)(\"h2\",{children:[\"Welcome, \",t.name]}),Object(g.jsxs)(\"div\",{style:{marginBottom:\"1rem\"},children:[Object(g.jsx)(\"input\",{value:c,onChange:e=>s(e.target.value),placeholder:\"New task\",style:{padding:\"0.5rem\",width:\"300px\"}}),Object(g.jsx)(\"button\",{onClick:async()=>{try{const e=await h.post(\"/tasks\",{title:c},{headers:{Authorization:\"Bearer \".concat(u)}});o([...n,e.data]),s(\"\")}catch(e){console.error(\"Failed to create task:\",e)}},style:{marginLeft:\"1rem\"},children:\"Add Task\"})]}),Object(g.jsx)(\"ul\",{children:n.map(e=>Object(g.jsx)(\"li\",{style:{marginBottom:\"0.5rem\"},children:l===e.id?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(\"input\",{value:d,onChange:e=>j(e.target.value),style:{padding:\"0.3rem\",width:\"250px\"}}),Object(g.jsx)(\"button\",{onClick:p,style:{marginLeft:\"0.5rem\"},children:\"Save\"}),Object(g.jsx)(\"button\",{onClick:b,style:{marginLeft:\"0.5rem\"},children:\"Cancel\"})]}):Object(g.jsxs)(g.Fragment,{children:[e.title,Object(g.jsx)(\"button\",{onClick:()=>(e=>{i(e.id),j(e.title)})(e),style:{marginLeft:\"1rem\"},children:\"Edit\"}),Object(g.jsx)(\"button\",{onClick:()=>(async e=>{try{await h.delete(\"/tasks/\".concat(e),{headers:{Authorization:\"Bearer \".concat(u)}}),o(n.filter(t=>t.id!==e))}catch(t){console.error(\"Failed to delete task:\",t)}})(e.id),style:{marginLeft:\"0.5rem\"},children:\"Delete\"})]})},e.id))}),Object(g.jsx)(\"button\",{onClick:a,style:{marginTop:\"2rem\"},children:\"Logout\"})]})}var x=function(){const[e,t]=Object(r.useState)(null);Object(r.useEffect)(()=>{const e=localStorage.getItem(\"token\"),a=localStorage.getItem(\"user\");if(e)try{const{exp:r}=Object(i.a)(e);Date.now()>=1e3*r?(localStorage.clear(),t(null)):a&&t(JSON.parse(a))}catch(r){console.error(\"Invalid token:\",r),localStorage.clear(),t(null)}},[]),Object(r.useEffect)(()=>{e?localStorage.setItem(\"user\",JSON.stringify(e)):localStorage.removeItem(\"user\")},[e]);const a=!!localStorage.getItem(\"token\");return Object(g.jsx)(o.a,{children:Object(g.jsxs)(l.d,{children:[Object(g.jsx)(l.b,{path:\"/login\",element:Object(g.jsx)(p,{onLogin:t})}),Object(g.jsx)(l.b,{path:\"/register\",element:Object(g.jsx)(O,{})}),Object(g.jsx)(l.b,{path:\"/tasks\",element:a?Object(g.jsx)(m,{user:e,onLogout:()=>{localStorage.removeItem(\"token\"),localStorage.removeItem(\"user\"),t(null),window.location.href=\"/login\"}}):Object(g.jsx)(l.a,{to:\"/login\",replace:!0})}),Object(g.jsx)(l.b,{path:\"*\",element:Object(g.jsx)(l.a,{to:\"/login\",replace:!0})})]})})};n.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(\"div\",{className:\"app-wrapper\",children:Object(g.jsx)(x,{})})}),document.getElementById(\"root\"))}},[[44,1,2]]]);","name":"static/js/main.679126d3.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","dist","react_router_dist","esm","axios","axios_default","BASE_URL","api","a","create","baseURL","concat","services_api","jsx_runtime","Login","_ref","onLogin","email","setEmail","Object","password","setPassword","error","setError","children","onSubmit","async","e","preventDefault","_res$data","_res$data2","res","credentials","post","data","user","token","localStorage","setItem","JSON","stringify","err","_err$response","_err$response$data","response","type","placeholder","value","onChange","target","required","style","color","register","navigate","className","userData","alert","console","onClick","cursor","Tasks","onLogout","task","setTask","tasks","setTasks","editingId","setEditingId","editText","setEditText","getItem","cancelEditing","updateTask","put","title","headers","Authorization","map","t","id","get","fetchTasks","padding","name","marginBottom","width","marginLeft","startEditing","delete","filter","deleteTask","marginTop","src_App","setUser","storedUser","exp","Date","now","clear","parse","removeItem","isAuthenticated","path","element","window","location","href","to","replace","render","StrictMode","document","getElementById"],"sources":["static/js/main.679126d3.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(5);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/build/esm/index.js\nvar esm = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(6);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/api.js\nconst BASE_URL=\"http://localhost:8080/api\";const api=axios_default.a.create({baseURL:BASE_URL});// Optional: helper endpoints\nconst userApi=axios_default.a.create({baseURL:\"\".concat(BASE_URL,\"/users\")});const taskApi=axios_default.a.create({baseURL:\"\".concat(BASE_URL,\"/tasks\")});/* harmony default export */ var services_api = (api);\n// CONCATENATED MODULE: ./src/services/authServices.js\nfunction loginUser(credentials){return services_api.post(\"/users/login\",credentials);}function registerUser(userData){return services_api.post(\"/users/register\",userData);}// Add a function to get protected user data\nfunction getProfile(token){return services_api.get(\"/users/profile\",{headers:{Authorization:\"Bearer \".concat(token)}});}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/login.js\nfunction Login(_ref){let{onLogin}=_ref;const[email,setEmail]=Object(react[\"useState\"])(\"\");const[password,setPassword]=Object(react[\"useState\"])(\"\");const[error,setError]=Object(react[\"useState\"])(\"\");const handleSubmit=async e=>{e.preventDefault();try{var _res$data,_res$data2;const res=await loginUser({email,password});if((_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.user&&(_res$data2=res.data)!==null&&_res$data2!==void 0&&_res$data2.token){// store token and user in localStorage\nlocalStorage.setItem(\"token\",res.data.token);localStorage.setItem(\"user\",JSON.stringify(res.data.user));onLogin(res.data.user);// update state\n}else{setError(\"Invalid response from server\");}}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Server error, please try again later.\");}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Login\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{color:\"red\"},children:error})]});}\n// CONCATENATED MODULE: ./src/register.js\nfunction Register(){const[email,setEmail]=Object(react[\"useState\"])(\"\");const[password,setPassword]=Object(react[\"useState\"])(\"\");const[error,setError]=Object(react[\"useState\"])(\"\");const navigate=Object(react_router_dist[\"q\" /* useNavigate */])();const handleSubmit=async e=>{e.preventDefault();try{await registerUser({email,password});alert(\"✅ Registration successful! Please login.\");navigate(\"/login\");}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||\"Registration failed.\");console.error(\"Register error:\",err);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"auth-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Register\"})]}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{color:\"red\"},children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{onClick:()=>navigate(\"/login\"),style:{cursor:\"pointer\"},children:\"Already have an account? Login\"})]});}/* harmony default export */ var register = (Register);\n// CONCATENATED MODULE: ./src/Tasks.js\nfunction Tasks(_ref){let{user,onLogout}=_ref;const[task,setTask]=Object(react[\"useState\"])(\"\");const[tasks,setTasks]=Object(react[\"useState\"])([]);const[editingId,setEditingId]=Object(react[\"useState\"])(null);const[editText,setEditText]=Object(react[\"useState\"])(\"\");const token=localStorage.getItem(\"token\");const fetchTasks=async()=>{try{const res=await services_api.get(\"/tasks\",{headers:{Authorization:\"Bearer \".concat(token)}});setTasks(res.data);}catch(err){console.error(\"Failed to fetch tasks:\",err);}};const createTask=async()=>{try{const res=await services_api.post(\"/tasks\",{title:task},{headers:{Authorization:\"Bearer \".concat(token)}});setTasks([...tasks,res.data]);setTask(\"\");}catch(err){console.error(\"Failed to create task:\",err);}};const deleteTask=async id=>{try{await services_api.delete(\"/tasks/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});setTasks(tasks.filter(t=>t.id!==id));}catch(err){console.error(\"Failed to delete task:\",err);}};const startEditing=task=>{setEditingId(task.id);setEditText(task.title);};const cancelEditing=()=>{setEditingId(null);setEditText(\"\");};const updateTask=async()=>{try{const res=await services_api.put(\"/tasks/\".concat(editingId),{title:editText},{headers:{Authorization:\"Bearer \".concat(token)}});setTasks(tasks.map(t=>t.id===editingId?res.data:t));cancelEditing();}catch(err){console.error(\"Failed to update task:\",err);}};// eslint-disable-next-line react-hooks/exhaustive-deps\nObject(react[\"useEffect\"])(()=>{fetchTasks();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:\"2rem\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Welcome, \",user.name]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginBottom:\"1rem\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:task,onChange:e=>setTask(e.target.value),placeholder:\"New task\",style:{padding:\"0.5rem\",width:\"300px\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:createTask,style:{marginLeft:\"1rem\"},children:\"Add Task\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:tasks.map(t=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{style:{marginBottom:\"0.5rem\"},children:editingId===t.id?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:editText,onChange:e=>setEditText(e.target.value),style:{padding:\"0.3rem\",width:\"250px\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:updateTask,style:{marginLeft:\"0.5rem\"},children:\"Save\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:cancelEditing,style:{marginLeft:\"0.5rem\"},children:\"Cancel\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[t.title,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>startEditing(t),style:{marginLeft:\"1rem\"},children:\"Edit\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>deleteTask(t.id),style:{marginLeft:\"0.5rem\"},children:\"Delete\"})]})},t.id))}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onLogout,style:{marginTop:\"2rem\"},children:\"Logout\"})]});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){const[user,setUser]=Object(react[\"useState\"])(null);// Check for stored token and user on app load\nObject(react[\"useEffect\"])(()=>{const token=localStorage.getItem(\"token\");const storedUser=localStorage.getItem(\"user\");if(token){try{const{exp}=Object(esm[\"a\" /* jwtDecode */])(token);if(Date.now()>=exp*1000){// Token expired\nlocalStorage.clear();setUser(null);}else if(storedUser){setUser(JSON.parse(storedUser));}}catch(err){console.error(\"Invalid token:\",err);localStorage.clear();setUser(null);}}},[]);// Keep user in sync with localStorage\nObject(react[\"useEffect\"])(()=>{if(user){localStorage.setItem(\"user\",JSON.stringify(user));}else{localStorage.removeItem(\"user\");}},[user]);// Logout handler\nconst handleLogout=()=>{localStorage.removeItem(\"token\");localStorage.removeItem(\"user\");setUser(null);window.location.href=\"/login\";};const isAuthenticated=!!localStorage.getItem(\"token\");return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"d\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/login\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login,{onLogin:setUser})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/register\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(register,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"/tasks\",element:isAuthenticated?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tasks,{user:user,onLogout:handleLogout}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Navigate */],{to:\"/login\",replace:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"b\" /* Route */],{path:\"*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Navigate */],{to:\"/login\",replace:true})})]})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app-wrapper\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[44,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/node_modules/postcss-loader/src/index.js??postcss!/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/index.css","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/services/api.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/services/authServices.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/login.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/register.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/Tasks.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/App.js","/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/index.js"],"names":["BASE_URL","api","axios","create","baseURL","userApi","concat","taskApi","loginUser","credentials","post","registerUser","userData","getProfile","token","get","headers","Authorization","Login","_ref","onLogin","email","setEmail","useState","password","setPassword","error","setError","handleSubmit","e","preventDefault","_res$data","_res$data2","res","data","user","localStorage","setItem","JSON","stringify","err","_err$response","_err$response$data","response","_jsxs","children","_jsx","onSubmit","type","placeholder","value","onChange","target","required","style","color","Register","navigate","useNavigate","alert","console","className","onClick","cursor","Tasks","onLogout","task","setTask","tasks","setTasks","editingId","setEditingId","editText","setEditText","getItem","fetchTasks","createTask","title","deleteTask","id","delete","filter","t","startEditing","cancelEditing","updateTask","put","map","useEffect","padding","name","marginBottom","width","marginLeft","_Fragment","marginTop","App","setUser","storedUser","exp","jwtDecode","Date","now","clear","parse","removeItem","handleLogout","window","location","href","isAuthenticated","Router","Routes","Route","path","element","Navigate","to","replace","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import axios from \"axios\";\n\nconst BASE_URL = \"http://localhost:8080/api\";\n\nconst api = axios.create({\n  baseURL: BASE_URL,\n});\n\n// Optional: helper endpoints\nexport const userApi = axios.create({\n  baseURL: `${BASE_URL}/users`,\n});\n\nexport const taskApi = axios.create({\n  baseURL: `${BASE_URL}/tasks`,\n});\n\nexport default api;\n","import api from \"./api\";\n\nexport function loginUser(credentials) {\n  return api.post(\"/users/login\", credentials);\n}\n\nexport function registerUser(userData) {\n  return api.post(\"/users/register\", userData);\n}\n\n// Add a function to get protected user data\nexport function getProfile(token) {\n  return api.get(\"/users/profile\", { headers: { Authorization: `Bearer ${token}` } });\n}\n","import { useState } from \"react\";\nimport { loginUser } from \"./services/authServices\";\n\nexport default function Login({ onLogin }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const res = await loginUser({ email, password });\n\n      if (res.data?.user && res.data?.token) {\n        // store token and user in localStorage\n        localStorage.setItem(\"token\", res.data.token);\n        localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n\n        onLogin(res.data.user); // update state\n      } else {\n        setError(\"Invalid response from server\");\n      }\n    } catch (err) {\n      setError(\n        err.response?.data?.error || \"Server error, please try again later.\"\n      );\n    }\n  };\n\n  return (\n    <div>\n      <h2>Login</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n        <button type=\"submit\">Login</button>\n      </form>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { registerUser } from \"./services/authServices\";\n\nfunction Register() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await registerUser({ email, password });\n      alert(\"✅ Registration successful! Please login.\");\n      navigate(\"/login\");\n    } catch (err) {\n      setError(err.response?.data?.error || \"Registration failed.\");\n      console.error(\"Register error:\", err);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <h2>Register</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n        <button type=\"submit\">Register</button>\n      </form>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n      <p onClick={() => navigate(\"/login\")} style={{ cursor: \"pointer\" }}>\n        Already have an account? Login\n      </p>\n    </div>\n  );\n}\n\nexport default Register;\n","import React, { useState, useEffect } from \"react\";\nimport api from \"./services/api\";\n\nexport default function Tasks({ user, onLogout }) {\n  const [task, setTask] = useState(\"\");\n  const [tasks, setTasks] = useState([]);\n  const [editingId, setEditingId] = useState(null);\n  const [editText, setEditText] = useState(\"\");\n\n  const token = localStorage.getItem(\"token\");\n\n  const fetchTasks = async () => {\n    try {\n      const res = await api.get(\"/tasks\", {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setTasks(res.data);\n    } catch (err) {\n      console.error(\"Failed to fetch tasks:\", err);\n    }\n  };\n\n  const createTask = async () => {\n    try {\n      const res = await api.post(\n        \"/tasks\",\n        { title: task },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      setTasks([...tasks, res.data]);\n      setTask(\"\");\n    } catch (err) {\n      console.error(\"Failed to create task:\", err);\n    }\n  };\n\n  const deleteTask = async (id) => {\n    try {\n      await api.delete(`/tasks/${id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setTasks(tasks.filter((t) => t.id !== id));\n    } catch (err) {\n      console.error(\"Failed to delete task:\", err);\n    }\n  };\n\n  const startEditing = (task) => {\n    setEditingId(task.id);\n    setEditText(task.title);\n  };\n\n  const cancelEditing = () => {\n    setEditingId(null);\n    setEditText(\"\");\n  };\n\n  const updateTask = async () => {\n    try {\n      const res = await api.put(\n        `/tasks/${editingId}`,\n        { title: editText },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      setTasks(tasks.map((t) => (t.id === editingId ? res.data : t)));\n      cancelEditing();\n    } catch (err) {\n      console.error(\"Failed to update task:\", err);\n    }\n  };\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  return (\n    <div style={{ padding: \"2rem\" }}>\n      <h2>Welcome, {user.name}</h2>\n\n      <div style={{ marginBottom: \"1rem\" }}>\n        <input\n          value={task}\n          onChange={(e) => setTask(e.target.value)}\n          placeholder=\"New task\"\n          style={{ padding: \"0.5rem\", width: \"300px\" }}\n        />\n        <button onClick={createTask} style={{ marginLeft: \"1rem\" }}>\n          Add Task\n        </button>\n      </div>\n\n      <ul>\n        {tasks.map((t) => (\n          <li key={t.id} style={{ marginBottom: \"0.5rem\" }}>\n            {editingId === t.id ? (\n              <>\n                <input\n                  value={editText}\n                  onChange={(e) => setEditText(e.target.value)}\n                  style={{ padding: \"0.3rem\", width: \"250px\" }}\n                />\n                <button onClick={updateTask} style={{ marginLeft: \"0.5rem\" }}>\n                  Save\n                </button>\n                <button onClick={cancelEditing} style={{ marginLeft: \"0.5rem\" }}>\n                  Cancel\n                </button>\n              </>\n            ) : (\n              <>\n                {t.title}\n                <button onClick={() => startEditing(t)} style={{ marginLeft: \"1rem\" }}>\n                  Edit\n                </button>\n                <button onClick={() => deleteTask(t.id)} style={{ marginLeft: \"0.5rem\" }}>\n                  Delete\n                </button>\n              </>\n            )}\n          </li>\n        ))}\n      </ul>\n\n      <button onClick={onLogout} style={{ marginTop: \"2rem\" }}>\n        Logout\n      </button>\n    </div>\n  );\n}\n","import { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { jwtDecode } from \"jwt-decode\";\n\nimport Login from \"./login\";\nimport Register from \"./register\";\nimport Tasks from \"./Tasks\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  // Check for stored token and user on app load\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const storedUser = localStorage.getItem(\"user\");\n\n    if (token) {\n      try {\n        const { exp } = jwtDecode(token);\n        if (Date.now() >= exp * 1000) {\n          // Token expired\n          localStorage.clear();\n          setUser(null);\n        } else if (storedUser) {\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (err) {\n        console.error(\"Invalid token:\", err);\n        localStorage.clear();\n        setUser(null);\n      }\n    }\n  }, []);\n\n  // Keep user in sync with localStorage\n  useEffect(() => {\n    if (user) {\n      localStorage.setItem(\"user\", JSON.stringify(user));\n    } else {\n      localStorage.removeItem(\"user\");\n    }\n  }, [user]);\n\n  // Logout handler\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    setUser(null);\n    window.location.href = \"/login\";\n  };\n\n  const isAuthenticated = !!localStorage.getItem(\"token\");\n\n  return (\n    <Router>\n      {/* Optional Navbar */}\n      {/* <Navbar user={user} onLogout={handleLogout} /> */}\n\n      <Routes>\n        <Route path=\"/login\" element={<Login onLogin={setUser} />} />\n        <Route path=\"/register\" element={<Register />} />\n        <Route\n          path=\"/tasks\"\n          element={\n            isAuthenticated ? (\n              <Tasks user={user} onLogout={handleLogout} />\n            ) : (\n              <Navigate to=\"/login\" replace />\n            )\n          }\n        />\n        <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <div className=\"app-wrapper\">\n            <App />\n        </div>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n"]}}