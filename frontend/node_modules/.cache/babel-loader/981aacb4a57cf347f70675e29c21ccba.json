{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import api from\"./services/api\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function Tasks(_ref){let{user,onLogout}=_ref;const[task,setTask]=useState(\"\");const[tasks,setTasks]=useState([]);const token=localStorage.getItem(\"token\");const fetchTasks=async()=>{const res=await api.get(\"/tasks\",{headers:{Authorization:\"Bearer \".concat(token)}});setTasks(res.data);};const createTask=async()=>{const res=await api.post(\"/tasks\",{title:task},{headers:{Authorization:\"Bearer \".concat(token)}});setTasks([...tasks,res.data]);setTask(\"\");};useEffect(()=>{fetchTasks();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",user.name]}),/*#__PURE__*/_jsx(\"input\",{value:task,onChange:e=>setTask(e.target.value),placeholder:\"New task\"}),/*#__PURE__*/_jsx(\"button\",{onClick:createTask,children:\"Add Task\"}),/*#__PURE__*/_jsx(\"ul\",{children:tasks.map(t=>/*#__PURE__*/_jsx(\"li\",{children:t.title},t.id))}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogout,children:\"Logout\"})]});}","map":{"version":3,"names":["React","useState","useEffect","api","jsxs","_jsxs","jsx","_jsx","Tasks","_ref","user","onLogout","task","setTask","tasks","setTasks","token","localStorage","getItem","fetchTasks","res","get","headers","Authorization","concat","data","createTask","post","title","children","name","value","onChange","e","target","placeholder","onClick","map","t","id"],"sources":["/Users/saniyaacharya/Desktop/3-tier-app-Deployment-1/frontend/src/Tasks.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport api from \"./services/api\";\n\nexport default function Tasks({ user, onLogout }) {\n  const [task, setTask] = useState(\"\");\n  const [tasks, setTasks] = useState([]);\n\n  const token = localStorage.getItem(\"token\");\n\n  const fetchTasks = async () => {\n    const res = await api.get(\"/tasks\", {\n      headers: { Authorization: `Bearer ${token}` }\n    });\n    setTasks(res.data);\n  };\n\n  const createTask = async () => {\n    const res = await api.post(\n      \"/tasks\",\n      { title: task },\n      { headers: { Authorization: `Bearer ${token}` } }\n    );\n    setTasks([...tasks, res.data]);\n    setTask(\"\");\n  };\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  return (\n    <div>\n      <h2>Welcome, {user.name}</h2>\n      <input\n        value={task}\n        onChange={(e) => setTask(e.target.value)}\n        placeholder=\"New task\"\n      />\n      <button onClick={createTask}>Add Task</button>\n      <ul>\n        {tasks.map((t) => (\n          <li key={t.id}>{t.title}</li>\n        ))}\n      </ul>\n      <button onClick={onLogout}>Logout</button>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAElD,MAAO,CAAAC,GAAG,KAAM,gBAAgB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEjC,cAAe,SAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAqB,IAApB,CAAEC,IAAI,CAAEC,QAAS,CAAC,CAAAF,IAAA,CAC9C,KAAM,CAACG,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAe,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAjB,GAAG,CAACkB,GAAG,CAAC,QAAQ,CAAE,CAClCC,OAAO,CAAE,CAAEC,aAAa,WAAAC,MAAA,CAAYR,KAAK,CAAG,CAC9C,CAAC,CAAC,CACFD,QAAQ,CAACK,GAAG,CAACK,IAAI,CAAC,CACpB,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAN,GAAG,CAAG,KAAM,CAAAjB,GAAG,CAACwB,IAAI,CACxB,QAAQ,CACR,CAAEC,KAAK,CAAEhB,IAAK,CAAC,CACf,CAAEU,OAAO,CAAE,CAAEC,aAAa,WAAAC,MAAA,CAAYR,KAAK,CAAG,CAAE,CAClD,CAAC,CACDD,QAAQ,CAAC,CAAC,GAAGD,KAAK,CAAEM,GAAG,CAACK,IAAI,CAAC,CAAC,CAC9BZ,OAAO,CAAC,EAAE,CAAC,CACb,CAAC,CAEDX,SAAS,CAAC,IAAM,CACdiB,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEd,KAAA,QAAAwB,QAAA,eACExB,KAAA,OAAAwB,QAAA,EAAI,WAAS,CAACnB,IAAI,CAACoB,IAAI,EAAK,CAAC,cAC7BvB,IAAA,UACEwB,KAAK,CAAEnB,IAAK,CACZoB,QAAQ,CAAGC,CAAC,EAAKpB,OAAO,CAACoB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACzCI,WAAW,CAAC,UAAU,CACvB,CAAC,cACF5B,IAAA,WAAQ6B,OAAO,CAAEV,UAAW,CAAAG,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC9CtB,IAAA,OAAAsB,QAAA,CACGf,KAAK,CAACuB,GAAG,CAAEC,CAAC,eACX/B,IAAA,OAAAsB,QAAA,CAAgBS,CAAC,CAACV,KAAK,EAAdU,CAAC,CAACC,EAAiB,CAC7B,CAAC,CACA,CAAC,cACLhC,IAAA,WAAQ6B,OAAO,CAAEzB,QAAS,CAAAkB,QAAA,CAAC,QAAM,CAAQ,CAAC,EACvC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module"}